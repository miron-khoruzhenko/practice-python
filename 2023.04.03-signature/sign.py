import os
import sys
from datetime import datetime


#=======================================================================================#
#                                                                                       #
#                                                                 0000000000000         #  
#     File: main.py                                             00000000000000000       #
#     Size: 300kb                                             000000000000000000000     #
#                                                            00000 00000000000 00000    #
#                                                           00000   000000000   00000   #
#     By: Miron Khoruzhenko                                 000000 00000000000 000000   #
#     <mironkhoruzhenko@gmail.com>                          0000000000000000000000000   #
#                                                           00000 0000000000000 00000   #
#                                                            00000             00000    #
#     Created: 2022/06/27 18:31 by strewen                    000000         000000     #
#     Updated: 2022/06/27 18:31 by strewen                      00000000000000000       #
#                                                                 0000000000000         #
#                                                                                       #
#=======================================================================================#

#=======================================================================================#
#                                                                                       #
#                                                                 0000000000000         #  
#     File: main.py                                             00000000000000000       #
#     Size: 300kb                                             000000000000000000000     #
#                                                            00000 00000000000 00000    #
#                                                           00000 x 000000000 x 00000   #
#     By: Miron Khoruzhenko                                 000000 00000000000 000000   #
#     <mironkhoruzhenko@gmail.com>                          0000000000000000000000000   #
#                                                           00000 0000000000000 00000   #
#                                                            00000             00000    #
#     Created: 2022/06/27 18:31 by strewen                    000000         000000     #
#     Updated: 2022/06/27 18:31 by strewen                      00000000000000000       #
#                                                                 0000000000000         #
#                                                                                       #
#=======================================================================================#

#=======================================================================================#
#                                                                                       #
#                                                                 0000000000000         #  
#     File: main.py                                             00000000000000000       #
#     Size: 300kb                                             000000000000000000000     #
#                                                            00000 00000000000 00000    #
#                                                           00000 o 000000000 o 00000   #
#     By: Miron Khoruzhenko                                 000000 00000000000 000000   #
#     <mironkhoruzhenko@gmail.com>                          0000000000000000000000000   #
#                                                           00000 wwwwwwwwwwwww 00000   #
#                                                            00000             00000    #
#     Created: 2022/06/27 18:31 by strewen                    000000 mmmmmmm 000000     #
#     Updated: 2022/06/27 18:31 by strewen                      00000000000000000       #
#                                                                 0000000000000         #
#                                                                                       #
#=======================================================================================#

#=======================================================================================#
#                                                                                       #
#                                                                 0000000000000         #  
#     File: main.py                                             00000000000000000       #
#     Size: 300kb                                             000000000000000000000     #
#                                                            00000 00000000000 00000    #
#                                                           00000   000000000   00000   #
#     By: Miron Khoruzhenko                                 000000 00000000000 000000   #
#     <mironkhoruzhenko@gmail.com>                          0000000000000000000000000   #
#                                                           00000 0000000000000 00000   #
#                                                            00000             00000    #
#     Created: 2022/06/27 18:31 by strewen                    000000 ======= 000000     #
#     Updated: 2022/06/27 18:31 by strewen                      00000000000000000       #
#                                                                 0000000000000         #
#                                                                                       #
#=======================================================================================#


#string = 50ch
email = ''
user = ''
with open('/home/strewen/.gitconfig') as file:
    lines = file.readlines()
    
    for line in lines:
        line = line.strip()
        # print(line)
        if 'email' in line:
            email = ('<'+line.split(' = ')[-1]+'>').ljust(40)
        if 'name' in line:
            user = line.split(' = ')[-1].ljust(40)

cwd     = os.getcwd()
path = cwd + '/' + sys.argv[1]
stats = os.stat(path)
# stats = os.stat(__file__)

size = (str(int((stats.st_size) / 1024 * 10) / 10) + 'KiB').ljust(40)
name = path.split('/')[-1].ljust(40)
create_date = datetime.fromtimestamp(stats.st_ctime).strftime("%Y/%m/%d %I:%M:%S")
update_date = datetime.fromtimestamp(stats.st_mtime).strftime("%Y/%m/%d %I:%M:%S")


outputStr = f"""
#=======================================================================================#
#                                                                 0000000000000         #  
#     File: {name}            00000000000000000       #
#     Size: {size}          000000000000000000000     #
#                                                            00000 00000000000 00000    #
#                                                           00000   000000000   00000   #
#     By: {user}          000000 00000000000 000000   #
#     {email}              0000000000000000000000000   #
#                                                           00000 0000000000000 00000   #
#                                                            00000             00000    #
#     Created: {create_date}                            000000         000000     #
#     Updated: {update_date}                              00000000000000000       #
#                                                                 0000000000000         #
#=======================================================================================#
"""

print(outputStr)